.TH WEDNESDAY 7 2025-06-05 "Wednesday Web Framework"
.SH NAME
wednesday \- component-based framework for site generation
.SH DESCRIPTION
Wednesday is a front-end web framework that aims to stay close to the browser while still providing a solid developer experience and quality-of-life features.


.SH PHILOSOPHY AND DESIGN
The philosophy of Wednesday can be summarized as follows:

.SS Close to the browser
More specifically, the approach we follow is to reject unnecessary complexity and abstraction.
The experience of writing a component should feel as close as possible to writing plain HTML, CSS, and JavaScript.

\fI No extra overhead, no strange or complicated behavior hidden behind the framework that you now need to learn, understand, and debug.\fR

If you need to look something up, it will likely be found in the MDN or Go \fIhtml/template\fR documentation.
For the same reason, the building blocks of Wednesday are few and flexible. Once you learn them, the framework should feel "transparent."

.SS Atomic and reusable
Atomicity is a core principle in Wednesday. It applies to how components are structured, how pages are built, and how libraries are handled.

\fI Components are essentially UI fragments and should encapsulate everything they need to function—batteries included.\fR

\fI Pages using components should be independently accessible.\fR

\fI A library should include its own dependencies.\fR

\fI The build output should reside in a self-contained directory.\fR

All of this contributes to predictability and reusability.

.SS Do it your way
In Wednesday, a \fIproject\fR is simply a directory where everything takes place.
The framework identifies \fIcomponents\fR and \fIpages\fR by file extension, regardless of how deeply nested they are.

\fI Feel free to structure your project however you want.\fR

Combined with the JSON-based project settings and the `wed run` command pipeline, this makes your project more flexible and better suited to your style and workflow.

.SS Small to medium
There are many front-end web frameworks out there, perhaps too many. Wednesday does not aim to compete with them.
We believe that many frameworks focus on large-scale or enterprise projects. Wednesday goes in the opposite direction:

\fI All projects should start small and simple and evolve over time.\fR

Premature optimization is the root of most evils.


.SH COMPONENT STRUCTURE
A component represents an atomic piece of UI.
They are essentially files with the `.wed.html` extension and can be placed anywhere within the project.
Each component is divided into:

.SS html \fI(required)\fR
A pseudo-HTML tag that wraps the actual HTML content of the component.
The content of the tag is enhanced using the Go template engine (more of this later).

Optionally, it accepts a \fBtype\fR attribute with one of the following values:

.TP
.B static (default)
Indicates the component is rendered at build time via the template engine.
The HTML content is wrapped in a `<div>` with the classes `wed-component` and `<componentname>-component`.

.TP
.B dynamic
Indicates the component is rendered only at runtime, using a `<template>` tag with `id=\(dq<componentname>-component\(dq`, typically injected at the top of the body.

\fIUsually, functions like \fBuseTemplate\fP should be defined in the script section of the dynamic component and imported where needed.\fR

The content is still wrapped in the same `<div>` as in static mode to ensure styles and scripts work properly.

.TP
.B hybrid
Makes the component available both statically and dynamically.

.SS script \fI(optional)\fR
A pseudo-HTML tag containing the JavaScript logic for the component.
If non-empty, a `.js` file with the same name is generated.

Scripts are typically imported in the page head and evaluated later using the \fIdefer\fR attribute.

It also supports a \fBrequire\fR attribute listing component names that must be evaluated first.
This is useful for controlling dependency order.

By default, scripts use \fItext/javascript\fR, but switching to \fI\(dqmodule\(dq: \(dqecma\(dq\fR in the project settings enables ES module support, allowing you to handle imports manually.

.SS style \fI(optional)\fR
A pseudo-HTML tag containing styles scoped to the component.
Wednesday automatically wraps all CSS rules in a selector like `.<componentname>-component` to ensure style encapsulation.

If non-empty, a `.css` file is generated with the same name as the component.
All styles are imported in the page head by default.


.SH TEMPLATE ENGINE
As mentioned earlier, Wednesday uses Go’s `html/template` engine and extends it with the following functions:

.TP
.B use \(dq<component>\(dq
Renders the HTML content of the `<component>.wed.html` file.
This also registers any dependencies used inside the component.

.TP
.B props \(dq<key>\(dq <value> \(dq<key2>\(dq <value2>
Used in a pipeline to pass data:
.EX
{{ use "contacts" props
  "DazFather" "+39 1234567"
  "NicoNex" "+39 987654"
}}
.EE
Values can be accessed inside the \fIcomponent\fR with:
.B{{ .Props.<key> }}
.EX
<li><em>mentor:</em> <span>{{ .Props.NicoNex   }}</span></li>
<li><em>mentee:</em> <span>{{ .Props.DazFather }}</span></li>
.EE

.TP
.B hold \(dq<child-component>\(dq \(dq<child-component2>\(dq
Registers one or more components for later injection using `drop`:
.EX
{{ use "modal" hold "confirm-btn" "reject-btn" }}
.EE

.TP
.B drop
Injects components previously registered with `hold`.

.TP
.B list <value> <value2> <value3>
Creates a slice of values:
.EX
<ol>{{ range list "pippo" "pluto" "paperino" }}
  <li><span>{{ . }}</span></li>
{{ end }}</ol>
.EE

.TP
.B var \(dq<key>\(dq
Accesses a variable declared in the project settings:
.EX
{{ var "site-email" }}
.EE


.SH TEMPLATE PAGES
Wednesday supports full template pages with the \fI.tmpl\fR extension.
These files are processed by the template engine at build time and serve as the main entry points of the website.
Each template is transformed into a complete HTML page with the same base name.

As with components, template pages can be placed anywhere within the input directory and use the same template engine.
However, they support additional syntax to manage resource imports more explicitly:

.TP
.B {!import{ \(dqdynamics\(dq }!}
Generates import tags for dynamic components.
Typically used as the first item inside the \fI<body>\fR tag.

.TP
.B {!import{ \(dqstyles\(dq }!}
Generates import tags for all component-specific styles.
Usually placed inside the \fI<head>\fR tag.

.TP
.B {!import{ \(dqscripts\(dq }!}
Generates import tags for all component scripts.
Also usually placed inside the \fI<head>\fR tag.


.SH PROJECT CONFIGURATION
The project JSON settings file is optional. By default, Wednesday looks for \fIwed-settings.json\fR in the project root.
Alternatively, a different file can be specified via the \fI--settings\fR flag, which must then be passed to all `wed` commands.

Supported fields include:

.TP
.B vars
A key-value map of build-time variables, available via the template engine using \fB{{ var \(dqkey\(dq }}\fR.

.TP
.B commands
A map from pipeline names to shell commands, which can be run using \fBwed run <pipeline-name>\fR.

.TP
.B output_dir
The directory where the compiled site will be placed.

.TP
.B input_dir
The directory where Wednesday will search for components and pages.

.TP
.B module
Defines the JavaScript module type for importing scripts on pages:
.RS

.B text/javascript (default)
Uses the \fIrequire\fR attribute for dependency management.

.B ecma
Or alias \fImodule\fR — enables ECMAScript module support.
The user is responsible for managing dependencies via ES module imports.
.RE

.SH SEE ALSO
.BR wed (1)

